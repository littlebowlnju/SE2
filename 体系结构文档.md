# NJUSE酒店管理系统软件体系结构描述文档

## 文档修改历史

| 修改人员 | 日期 | 修改原因 | 版本号 |
| :------: | ---- | -------- | ------ |
|王海辰|2020/4/19|添加目录引言产品视角|version1.0.0 |
|王海辰|2020/4/21|添加数据层分解|version1.0.1 |
|王海辰|2020/4/19|添加目录与引言|version1.0.2 |
|黄婉红|2020/4/24|添加逻辑视图与开发包图|version1.2.0 |
|项卓奇|2020/4/24|添加用户界面层分解与业务逻辑层分解|version1.3.0 |
|钱支鑫|2020/4/24/|添加运行进程、物理部署和模块职责|version1.4.0|
|钱支鑫|2020/4/24/|修改物理部署|version1.4.1|
|黄婉红|2020/4/25|添加信息视角与部分完善|version1.5.0|
|黄婉红|2020/6/23|文档修改|version2.0.0|


## 目录

<!--TOC-->
        
  - [NJUSE酒店管理系统体系结构描述文档](#NJUSE酒店管理系统体系结构描述文档)
       - [文档修改历史](#文档修改历史)
       - [目录](#目录)
       - [1. 引言](#1-引言)
            - [1.1 编制目的](#11-编制目的)
            - [1.2 词汇表](#12-词汇表)
            - [1.3 参考资料](#13-参考资料)
       - [2. 产品描述](#2-产品描述)
       - [3. 逻辑视角](#3-逻辑视角)
       - [4. 组合视图](#4-组合视图)
            - [4.1 开发包图](#41-开发包图)
            - [4.2 运行进程](#42-运行进程)
            - [4.3 物理部署](#43-物理部署)
       - [5. 架构设计](#5-架构视角)
            - [5.1 模块职责](#51-模块职责)
            - [5.2 用户界面层分解](#52-用户界面层分解)
                - [5.2.1 职责](#521-职责)
                - [5.2.2 接口规范](#522-接口规范)
            - [5.3 业务逻辑层分解](#53-业务逻辑层分解)
                - [5.3.1 职责](#531-职责)
                - [5.3.2 接口规范](#532-接口规范)
            - [5.4 数据层分解](#54-数据层分解)
                - [5.4.1 职责](#541-职责)
                - [5.4.2 接口规范](#542-接口规范)
            - [5.5 信息视角](#55-信息视角)
                - [5.5.1 数据持久化对象](#511-数据持久化对象)
                - [5.5.2 数据库表](#552-数据库表)
                
        
<!--/TOC-->


## 1.引言

### 1.1 编制目的

本报告详细完成对NJUSE酒店管理系统的概要设计，达到知道详细设计和开发的目的，同时实现和测试人员及用户的沟通。

本报告面向开发人员、测试人员及最终用户而编写，是了解系统的导航。



### 1.2 词汇表

| 词汇名称 | 词汇含义 | 备注 |
| :------: | -------- | ---- |
|  NJUSE-HMS  | NJUSE酒店管理系统 | 无 |



### 1.3 参考资料
    （1）IEEE标准
    （2）NJUSE酒店管理系统用例文档V1.0 
    （3）《软件工程与计算（卷二）》

## 2. 产品概述

参考NJUSE酒店管理系统用例文档和NJUSE酒店管理系统软件需求规格说明中对产品的概况描述。


## 3. 逻辑视图

NJUSE酒店管理系统中，选择了分层体系结构风格，将系统分为3层（展示层、业务逻辑层、数据层）能够很好地示意整个高层抽象。
展示层包含前端的实现，业务逻辑层包含业务逻辑处理的实现，数据层负责数据的持久化和访问。展示层和业务逻辑层间通过controller包进行连接，将前端和后端联系起来。

  
分层体系结构的逻辑视角如下图。

![分层体系结构逻辑视角](https://image-store-se.oss-cn-shanghai.aliyuncs.com/%E5%88%86%E5%B1%82.png)

分层体系结构的逻辑设计方案如下图。

![分层体系结构逻辑设计方案](https://image-store-se.oss-cn-shanghai.aliyuncs.com/%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1.png)



## 4. 组合视图

### 4.1 开发包图

NJUSE酒店管理系统的最终开发包设计如下表所示。

| 开发包 | 依赖的其他开发包               |
| :----: | ------------------------------ |
| api | utils |
| router | views                           |
|store|api,utils,|
|utils|router|
|views|router,utils|
|bl.admin|po,vo|
|bl.coupon|po,vo|
|bl.hotel|po,vo|
|bl.order|po,vo|
|bl.user|po,vo|
|blImpl.admin|bl.admin,data.admin,enums,po,vo|
|blImpl.coupon|bl.coupon,data.coupon,po,vo|
|blImpl.hotel|bl.hotel,bl.order,bl.user,data.hotel,data.user,enums,po,vo|
|blImpl.order|bl.hotel,bl.order,bl.user,data.order,po,vo|
|blImpl.user|bl.user,data.user,po,vo|
|controller.admin|bl.admin,blImpl.admin,vo,api|
|controller.coupon|bl.coupon,vo,api|
|controller.hotel|bl.hotel,po,vo,util,api|
|controller.order|bl.order,vo,api|
|controller.user|bl.user,po,vo,api|
|data.admin|po|
|data.coupon|po|
|data.hotel|po,vo|
|data.order|po,vo|
|data.user|po|
|dataImpl.admin|data.admin,po|
|dataImpl.coupon|data.coupon,po|
|dataImpl.hotel|data.hotel,po|
|dataImpl.order|data.order,po|
|dataImpl.user|data.user,po|
|config||
|util||
|enums||
|po||
|vo||

NJUSE酒店管理系统前端开发包图如下图所示。

![前端](https://image-store-se.oss-cn-shanghai.aliyuncs.com/%E5%89%8D%E7%AB%AF.png)

NJUSE酒店管理系统后端开发包图如下图所示。

![后端](https://image-store-se.oss-cn-shanghai.aliyuncs.com/%E5%90%8E%E7%AB%AF.png)



### 4.2 运行进程

- 在酒店管理系统中，无论是客户或者酒店管理人员都可以通过网络登录到本系统中。

- 示意图：

![](https://image-store-se.oss-cn-shanghai.aliyuncs.com/%E8%BF%90%E8%A1%8C%E8%BF%9B%E7%A8%8B.png)



### 4.3 物理部署

- 酒店管理系统部署在服务器上，是web程序。
 
- 示意图

![icon]( https://image-store-se.oss-cn-shanghai.aliyuncs.com/%E7%89%A9%E7%90%86%E9%83%A8%E7%BD%B2.jpg)

## 5. 架构设计


### 5.1 模块职责

- 模块视图

![]( https://image-store-se.oss-cn-shanghai.aliyuncs.com/%E6%A8%A1%E5%9D%97%E8%81%8C%E8%B4%A3.jpg)

- 各层职责

|     层     | 职责     |
| :--------: | -------- |
| 展示层 | 负责初始化网络通信机制，启动网页 |
| 业务逻辑层 | 对于用户界面的输入进行响应并进行业务处理逻辑 |
| 数据层 | 负责数据的持久化及数据访问接口 |


- 层之间调用接口


|     接口     |   服务调用方   | 服务提供方 |
| :--------: | -------- | -------- |
| bl.admin | 展示层 | 业务逻辑层|
|bl.admin|展示层|业务逻辑层|
|bl.coupon|展示层|业务逻辑层|
|bl.hotel|展示层|业务逻辑层|
|bl.order|展示层|业务逻辑层|
|bl.user|展示层|业务逻辑层|
| data.admin | 业务逻辑层 | 数据层 |
| data.coupon | 业务逻辑层 | 数据层 |
| data.hotel | 业务逻辑层 | 数据层 |
| data.order | 业务逻辑层 | 数据层 |
| data.user | 业务逻辑层 | 数据层 |



### 5.2 用户界面层分解

根据需求，系统存在22个用户界面：用户登录界面、用户注册界面、首页界面、客户主界面、酒店管理员主界面、网站营销人员主界面、注册会员界面、个人中心界面、个人信息界面、酒店管理界面、
账户管理界面、添加酒店界面、添加账户界面、修改账户信息界面、营销中心界面、添加优惠策略界面、信用充值界面、浏览酒店信息界面、酒店详细信息界面、预订酒店界面、酒店优惠策略界面、修改酒店房间信息界面。界面跳转如下图所示。

![页面跳转图](https://image-store-se.oss-cn-shanghai.aliyuncs.com/%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC.jpg)

#### 5.2.1 职责

用户界面层模块的职责如下表所示。

|        模块         | 职责                   |
| :--------------------: | ---------------------- |
| MainView | 主界面，负责界面的显示和界面的跳转 |
| api       | RestAPI，负责前端操作请求与后端的信息传递|
| adminview | 系统界面包，负责实现添加酒店管理人员账号、查看所有酒店管理人员信息的功能 |
| couponview  | 优惠策略界面包，负责实现查看某一订单可用的优惠策略列表、查看某个酒店提供的所有优惠策略（包括失效的）、添加酒店满减优惠策略的功能             |
| hotelview   | 酒店信息界面包，负责允许酒店工作人员添加酒店、查看酒店信息、修改剩余客房信息、查看酒店剩余某种房间数量、查看酒店的所有订单 |
| hotelManagerview   | 房间信息界面包，负责允许酒店工作人员获取某个酒店的全部房间信息、添加酒店客房信息、预订酒店后更新客房房间数量、获取酒店指定房间剩余数量 |
| Marketerview   | 网站营销人员界面包，负责允许网站营销人员进行账户管理和酒店管理，包括添加、删除账户，添加、删除酒店 |
| orderView   | 订单界面包，负责允许客户预订酒店、获得所有订单信息、获得指定用户的所有订单信息、撤销订单 |
| userView    | 用户行为界面包，负责允许用户注册账号、登录系统、获取用户个人信息、更新用户个人信息 |

- 类图

用户界面类如下图所示。

![icon](https://image-store-se.oss-cn-shanghai.aliyuncs.com/view.png)

- 需要的服务接口

|         服务名         | 服务                   |
| :--------------------: | ---------------------- |
| bl.admin | 处理管理员相关操作的业务逻辑接口 |
| bl.coupon   | 处理优惠券相关操作的业务逻辑接口|
| bl.hotel|处理酒店相关操作的业务逻辑接口|
| bl.room |处理房间相关操作的业务逻辑接口|
| bl.order|处理订单相关操作的业务逻辑接口|
| bl.user|处理用户相关操作的业务逻辑接口|


#### 5.2.2 接口规范

adminView模块的接口规范

| 需要的接口（需接口）                         |                |
| ------------------------------------------ | -------------- |
| 服务名                                      | 服务           |
| AdminService.addManager(UserForm userForm) | 添加酒店管理人员账号     |
| AdminService.getAllManagers()     | 查看所有酒店管理人员信息     |

couponView模块的接口规范

| 需要的接口（需接口）                         |                |
| ------------------------------------------ | -------------- |
| 服务名                                      | 服务           |
| CouponService.getMatchOrderCoupon(OrderVO orderVO) | 查看某一订单可用的优惠策略列表     |
| CouponService.getHotelAllCoupon(Integer hotelId)    | 查看某个酒店提供的所有优惠策略（包括失效的）     |
| CouponService.addHotelTargetMoneyCoupon(HotelTargetMoneyCouponVO couponVO)    | 添加酒店满减优惠策略     |

hotelView模块的接口规范

| 需要的接口（需接口）                         |                |
| ------------------------------------------ | -------------- |
| 服务名                                      | 服务           |
| HotelService.addHotel(HotelVO hotelVO) throws ServiceException | 添加酒店       |
| HotelService.updateRoomInfo(Integer hotelId, String roomType,Integer rooms)    | 修改剩余客房信息         |
| HotelService.retrieveHotels()                                                  | 获取酒店信息            |
| HotelService.retrieveHotelDetails(Integer hotelId)                             | 获取某家酒店详细信息     |
| HotelService.getRoomCurNum(Integer hotelId,String roomType)                    | 查看酒店剩余某种房间数量  |
| HotelService.getHotelOrders(Integer hotelId)                                   | 查看酒店的所有订单       |

roomView模块的接口规范

| 需要的接口（需接口）                         |                |
| ------------------------------------------ | -------------- |
| 服务名                                      | 服务           |
| RoomService.retrieveHotelRoomInfo(Integer hotelId) | 获取某个酒店的全部房间信息       |
| RoomService.insertRoomInfo(HotelRoom hotelRoom)    | 添加酒店客房信息         |
| RoomService.updateRoomInfo(Integer hotelId, String roomType, Integer rooms)  | 更新客房房间数量            |
| RoomService.getRoomCurNum(Integer hotelId, String roomType)                   | 获取酒店指定房间剩余数量     |

orderView模块的接口规范

| 需要的接口（需接口）                         |                |
| ------------------------------------------ | -------------- |
| 服务名                                      | 服务           |
| OrderService.addOrder(OrderVO orderVO) | 预订酒店       |
| OrderService.getAllOrders()    | 获得所有订单信息         |
| OrderService.getUserOrders(int userid)  | 获得指定用户的所有订单信息     |
| OrderService.annulOrder(int orderid)                   | 撤销订单     |

accountView模块的接口规范

| 需要的接口（需接口）                         |                |
| ------------------------------------------ | -------------- |
| 服务名                                      | 服务           |
| AcountService.registerAccount(UserVO userVO) | 注册账号       |
| AcountService.login(UserForm userForm)    | 用户登录         |
| AcountService.getUserInfo(int id)  | 获取用户个人信息     |
| AcountService.updateUserInfo(int id, String password,String username,String phonenumber)| 更新用户个人信息     |


### 5.3 业务逻辑层分解

业务逻辑层包括多个针对界面的业务逻辑处理对象。

Admin对象负责处理网站管理员主界面的业务逻辑；
Coupon对象负责处理促销策略界面的业务逻辑；
Hotel对象负责处理酒店信息界面的业务逻辑；
Room对象负责处理房间信息界面的业务逻辑；
Order对象负责处理订单信息界面的业务逻辑；
Account对象负责处理用户界面的业务逻辑；
Evaluation对象负责处理评价信息界面的业务逻辑。

业务逻辑层的设计如下图所示。

![业务逻辑层]( https://image-store-se.oss-cn-shanghai.aliyuncs.com/bl.png)

#### 5.3.1 职责

业务逻辑层模块的职责如下表所示。

|        模块         | 职责                   |
| :--------------------: | ---------------------- |
| adminbl | 负责实现网站管理人员相关业务所需要的服务 |
| couponbl | 负责实现促销策略相关业务所需要的服务 |
| hotelbl | 负责实现酒店相关业务所需要的服务 |
| orderbl | 负责实现订单相关业务所需要的服务 |
| userbl | 负责实现用户相关业务所需要的服务 |

#### 5.3.2 接口规范

adminbl模块的接口模范如下表所示。

<table class="lake-table">
  <tbody>
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>提供的服务（供接口）</strong></p>
      </td>
    </tr>
    <tr>
      <td rowspan="3" colspan="1" style="text-align: center;">
        AdminServiceImpl.addManager
      </td>
      <td style="text-align: center;">
        语法
      </td>
      <td style="text-align: center;">
        public ResponseVO addManager(UserForm userForm);
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">
        前置条件
      </td>
      <td style="text-align: center;">
        已创建一个UserForm对象，并且输入符合输入规则
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">
        后置条件
      </td>
      <td style="text-align: center;">
        添加一个新的用户对象，并返回用户列表。
      </td>
    </tr>
    <tr>
          <td rowspan="3" colspan="1" style="text-align: center;">
            AdminServiceImpl.addMarketer
          </td>
          <td style="text-align: center;">
            语法
          </td>
          <td style="text-align: center;">
            public ResponseVO addMarketer(UserForm userForm);
          </td>
        </tr>
        <tr>
          <td style="text-align: center;">
            前置条件
          </td>
          <td style="text-align: center;">
            已创建一个UserForm对象，并且输入符合输入规则
          </td>
        </tr>
        <tr>
          <td style="text-align: center;">
            后置条件
          </td>
          <td style="text-align: center;">
            添加一个新的用户对象，并返回网站营销人员列表。
          </td>
        </tr>
    <tr>
      <td rowspan="3" colspan="1" style="text-align: center;">
        AdminServiceImpl.getAllManagers
      </td>
      <td colspan="1" style="text-align: center;">
        语法
      </td>
      <td colspan="1" style="text-align: center;">
        public List&lt;User&gt; getAllManagers();
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        前置条件
      </td>
      <td colspan="1" style="text-align: center;">
        存在相应的列表数据
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        后置条件
      </td>
      <td colspan="1" style="text-align: center;">
        以列表形式返回所有酒店管理员信息
      </td>
    </tr>
     <tr>
          <td rowspan="3" colspan="1" style="text-align: center;">
            AdminServiceImpl.getAllMarketers
          </td>
          <td colspan="1" style="text-align: center;">
            语法
          </td>
          <td colspan="1" style="text-align: center;">
            public List&lt;User&gt; getAllMarketers();
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            前置条件
          </td>
          <td colspan="1" style="text-align: center;">
            存在相应的列表数据
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            后置条件
          </td>
          <td colspan="1" style="text-align: center;">
            以列表形式返回所有网站营销人员信息
          </td>
        </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        AdminServiceImpl.moveUser
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        public ResponseVO moveUser(int userId);
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在对应的用户ID</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>删除用户ID对应的用户信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>AdminServiceImpl.changeHotelManager</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p> public ResponseVO changeHotelManager(Integer hotelId, Integer managerId);</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在对应的酒店ID和酒店管理员ID</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>指定参数中的酒店管理员ID为酒店ID对应酒店的管理员ID</p>
      </td>
    </tr> 
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>需要的接口（需接口）</strong></p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>vo.ResponseVO</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>检查调用是否成功</p>
      </td>
    </tr>
    <tr>
       <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
          <p>vo.userForm</p>
       </td>
       <td rowspan="1" colspan="2" style="text-align: center;">
          <p>用户信息表单类</p>
       </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>po.User</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>用户实体类</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>AdminMapper.addManager(User user)</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>新增一个用户持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>AdminMapper.getAllManagers()</p>
      </td>
      <td colspan="2" style="text-align: center; background-color: #FFFFFF;">
        <p>以列表形式获取所有身份类型为HotelManager的用户单一持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p> AdminMapper.moveUser(int userId)</p>
      </td>
      <td colspan="2" style="background-color: #FFFFFF; text-align: center;">
        <p>根据用户ID删除一个用户持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>AdminMapper.changeHotelManager(int hotelId,Integer managerId)</p>
      </td>
      <td colspan="2" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
         指定managerId为hotelId对应酒店对象的管理员ID属性值
      </td>
    </tr>
  </tbody>
</table>
  

couponbl模块的接口规范如下表所示。
 
<table class="lake-table">
  <tbody>
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>提供的服务（供接口）</strong></p>
      </td>
    </tr>
    <tr>
      <td rowspan="3" colspan="1" style="text-align: center;">
        CouponServiceImpl.getMatchOrderCoupon
      </td>
      <td style="text-align: center;">
        语法
      </td>
      <td style="text-align: center;">
        List<Coupon> getMatchOrderCoupon(OrderVO orderVO)
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">
        前置条件
      </td>
      <td style="text-align: center;">
        客户新建一个订单
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">
        后置条件
      </td>
      <td style="text-align: center;">
        返回数据库中符合条件的优惠策略
      </td>
    </tr>
    <tr>
      <td rowspan="3" colspan="1" style="text-align: center;">
        CouponServiceImpl.getHotelAllCoupon
      </td>
      <td colspan="1" style="text-align: center;">
        语法
      </td>
      <td colspan="1" style="text-align: center;">
       List<Coupon> getHotelAllCoupon(Integer hotelId)
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        前置条件
      </td>
      <td colspan="1" style="text-align: center;">
        存在相应的酒店数据
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        后置条件
      </td>
      <td colspan="1" style="text-align: center;">
        以列表形式返回所有酒店优惠策略
      </td>
    </tr>
     <tr>
          <td rowspan="3" colspan="1" style="text-align: center;">
            CouponServiceImpl.getWebsiteAllCoupons
          </td>
          <td colspan="1" style="text-align: center;">
            语法
          </td>
          <td colspan="1" style="text-align: center;">
           List<Coupon> getWebsiteAllCoupons()
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            前置条件
          </td>
          <td colspan="1" style="text-align: center;">
            无
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            后置条件
          </td>
          <td colspan="1" style="text-align: center;">
            以列表形式返回所有网站优惠策略
          </td>
        </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        CouponServiceImpl.addHotelTargetMoneyCoupon
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        CouponVO addHotelTargetMoneyCoupon(HotelTargetMoneyCouponVO couponVO)
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>无</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>添加满减优惠策略</p>
      </td>
    </tr>
    <tr>
          <td colspan="1" rowspan="3" style="text-align: center;">
            CouponServiceImpl.addHotelBirthdayCoupon
          </td>
          <td colspan="1" style="text-align: center;">
            <p>语法</p>
          </td>
          <td colspan="1" style="text-align: center;">
            CouponVO addHotelBirthdayCoupon(HotelBirthdayCouponVO couponVO);
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            <p>前置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>无</p>
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            <p>后置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>添加生日优惠策略</p>
          </td>
        </tr>
        <tr>
              <td colspan="1" rowspan="3" style="text-align: center;">
                CouponServiceImpl.addHotelTimeCoupon
              </td>
              <td colspan="1" style="text-align: center;">
                <p>语法</p>
              </td>
              <td colspan="1" style="text-align: center;">
                CouponVO addHotelTimeCoupon(HotelTimeCouponVO couponVO);
              </td>
            </tr>
            <tr>
              <td colspan="1" style="text-align: center;">
                <p>前置条件</p>
              </td>
              <td colspan="1" style="text-align: center;">
                <p>无</p>
              </td>
            </tr>
            <tr>
              <td colspan="1" style="text-align: center;">
                <p>后置条件</p>
              </td>
              <td colspan="1" style="text-align: center;">
                <p>添加限时优惠策略</p>
              </td>
            </tr>
            <tr>
                  <td colspan="1" rowspan="3" style="text-align: center;">
                    CouponServiceImpl.addHotelMultiRoomCoupon
                  </td>
                  <td colspan="1" style="text-align: center;">
                    <p>语法</p>
                  </td>
                  <td colspan="1" style="text-align: center;">
                    CouponVO addHotelMultiRoomCoupon(HotelMultiRoomCouponVO couponVO);
                  </td>
                </tr>
                <tr>
                  <td colspan="1" style="text-align: center;">
                    <p>前置条件</p>
                  </td>
                  <td colspan="1" style="text-align: center;">
                    <p>无</p>
                  </td>
                </tr>
                <tr>
                  <td colspan="1" style="text-align: center;">
                    <p>后置条件</p>
                  </td>
                  <td colspan="1" style="text-align: center;">
                    <p>添加多间优惠策略</p>
                  </td>
                </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>CouponServiceImpl.cancelCoupon</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p> ResponseVO cancelCoupon(Integer couponId)</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在对应的优惠策略</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>删除该优惠策略</p>
      </td>
    </tr> 
    <tr>
          <td colspan="1" rowspan="3" style="text-align: center;">
            <p>CouponServiceImpl.getCouponById</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>语法</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p> Coupon getCouponById(int couponId);</p>
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            <p>前置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>数据库中存在对应的优惠策略</p>
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            <p>后置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>返回该ID对应的优惠策略</p>
          </td>
        </tr> 
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>需要的接口（需接口）</strong></p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>vo.ResponseVO</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>检查调用是否成功</p>
      </td>
    </tr>
    <tr>
       <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
          <p>vo.CouponVO</p>
       </td>
       <td rowspan="1" colspan="2" style="text-align: center;">
          <p>优惠策略类</p>
       </td>
    </tr>
    <tr>
           <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
              <p>vo.HotelBirthdayCouponVO</p>
           </td>
           <td rowspan="1" colspan="2" style="text-align: center;">
              <p>生日特惠类</p>
           </td>
        </tr>
        <tr>
               <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
                  <p>vo.HotelMultiRoomCouponVO</p>
               </td>
               <td rowspan="1" colspan="2" style="text-align: center;">
                  <p>多间优惠类</p>
               </td>
            </tr>
            <tr>
                   <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
                      <p>vo.HotelTargetMoneyCouponVO</p>
                   </td>
                   <td rowspan="1" colspan="2" style="text-align: center;">
                      <p>多间优惠类</p>
                   </td>
                </tr>
    <tr>
           <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
              <p>vo.HotelTimeCouponVO</p>
           </td>
           <td rowspan="1" colspan="2" style="text-align: center;">
              <p>限时优惠类</p>
           </td>
        </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>po.Coupon</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>优惠策略类</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>CouponMapper.insertCoupon(Coupon coupon)</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>新增一个优惠策略对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>CouponMapper.selectByHotelId(int hotelId)</p>
      </td>
      <td colspan="2" style="text-align: center; background-color: #FFFFFF;">
        <p>以列表形式获取所有hotelId为对应值的优惠策略对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p> CouponMapper.moveCoupon(int couponId)</p>
      </td>
      <td colspan="2" style="background-color: #FFFFFF; text-align: center;">
        <p>根据优惠策略ID删除一个优惠策略对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>CouponMapper.selectCouponById(int couponId)</p>
      </td>
      <td colspan="2" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
         以列表形式获取CouponId为对应值的优惠策略对象
      </td>
    </tr>
  </tbody>
</table>  


hotelbl模块的接口规范如下表所示。

hotelService的接口规范：

<table class="lake-table">
  <tbody>
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>提供的服务（供接口）</strong></p>
      </td>
    </tr>
    <tr>
      <td rowspan="3" colspan="1" style="text-align: center;">
        HotelServiceImpl.addHotel
      </td>
      <td style="text-align: center;">
        语法
      </td>
      <td style="text-align: center;">
        public void addHotel(HotelVO hotelVO);
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">
        前置条件
      </td>
      <td style="text-align: center;">
        已创建一个hotelVO对象，并且输入符合输入规则
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">
        后置条件
      </td>
      <td style="text-align: center;">
        添加一个新的酒店对象，并返回用户列表。
      </td>
    </tr>
    <tr>
      <td rowspan="3" colspan="1" style="text-align: center;">
        HotelServiceImpl.updateRoomNum
      </td>
      <td colspan="1" style="text-align: center;">
        语法
      </td>
      <td colspan="1" style="text-align: center;">
        public void updateRoomNum(Integer hotelId, String roomType, Integer rooms);
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        前置条件
      </td>
      <td colspan="1" style="text-align: center;">
        存在相应的列表数据
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        后置条件
      </td>
      <td colspan="1" style="text-align: center;">
        以列表形式返回所有房间信息
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        HotelServiceImpl.getRoomCurNum
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        public int getRoomCurNum(Integer hotelId, String roomType)
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在对应的房间Num</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>返回房间Num对应的房间类型</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>HotelServiceImpl.retrieveHotels</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>public List<HotelVO> retrieveHotels()</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>存在相应的列表数据</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>以列表形式返回所有酒店信息</p>
      </td>
    </tr> 
     <tr>
          <td colspan="1" rowspan="3" style="text-align: center;">
            HotelServiceImpl.retrieveHotelDetails
          </td>
          <td colspan="1" style="text-align: center;">
            <p>语法</p>
          </td>
          <td colspan="1" style="text-align: center;">
            public HotelVO retrieveHotelDetails(Integer hotelId)
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            <p>前置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>数据库中存在对应的酒店id</p>
          </td>
     </tr>
    <tr>
          <td colspan="1" style="text-align: center;">
            <p>后置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>返回酒店id对应的详细信息</p>
          </td>
        </tr>
        <tr>
          <td colspan="1" rowspan="3" style="text-align: center;">
            <p>HotelServiceImpl.retrieveHotelDetailByManagerId</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>语法</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>public HotelVO retrieveHotelDetailByManagerId(int userid);</p>
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            <p>前置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>数据库中存在对应的酒店ID和酒店管理员ID</p>
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            <p>后置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>以列表形式返回酒店id的详细信息</p>
          </td>
        </tr> 
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>HotelServiceImpl.getHotelOrders</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>public List<Order> getHotelOrders(Integer hotelId)</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在酒店id对应的酒店</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>以列表形式传递指令信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>HotelServiceImpl.moveHotel</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>public ResponseVO moveHotel(Integer hotelId)</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在酒店ID对应的酒店</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>删除酒店id对应的酒店</p>
      </td>
    </tr>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>HotelServiceImpl.updateHotelInfo</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>public ResponseVO updateHotelInfo(int managerid, String bizRegion, String address, String hotelDescription, String phoneNumber)</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在酒店ID对应的酒店</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>更新酒店id对应的详细信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>HotelServiceImpl.getHotelByBizAndCity</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p> public List<HotelVO> getHotelByBizAndCity(String bizRegion, String city)</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在酒店ID对应的酒店</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>更新酒店id对应的商圈和城市信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>HotelServiceImpl.sortByStar</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p> public List<HotelVO> sortByStar(List<HotelVO> hotels)</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在相应酒店列表信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>按星级排序展示酒店</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>HotelServiceImpl.retrieveCities</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>public List<String> retrieveCities();</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在相应城市列表信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>列表形式展示城市的详细信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>HotelServiceImpl.retrieveBizRegions</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>public List<String> retrieveBizRegions()();</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在相应商圈列表信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>列表形式展示商圈的详细信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>列表形式展示城市的详细信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>HotelServiceImpl.retrieveOrdered</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>public List<HotelVO> retrieveOrdered(String bizRegion,String city,Integer userId);</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在相应酒店信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>更新酒店的详细信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>HotelServiceImpl.searchHotel</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>public List<HotelVO> searchHotel(String bizRegion, String city, String hotelName);</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在相应酒店信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>根据条件返回对应的酒店详细信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>需要的接口（需接口）</strong></p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>vo.ResponseVO</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>检查调用是否成功</p>
      </td>
    </tr>
    <tr>
       <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
          <p>vo.userForm</p>
       </td>
       <td rowspan="1" colspan="2" style="text-align: center;">
          <p>用户信息表单类</p>
       </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>po.User</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>用户实体类</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>HotelMapper.addHotel(HotelVO hotelVO)</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>新增一个用户持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>HotelMapper.updateRoomNum(Integer hotelId, String roomType, Integer rooms)</p>
      </td>
      <td colspan="2" style="text-align: center; background-color: #FFFFFF;">
        <p>以列表形式获取所有身份类型为Hotel的用户单一持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p> HotelMapper.getRoomCurNum(Integer hotelId, String roomType)</p>
      </td>
      <td colspan="2" style="background-color: #FFFFFF; text-align: center;">
        <p>根据酒店ID删除一个用户持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p> HotelMapper.moveUser(int userId)</p>
      </td>
      <td colspan="2" style="background-color: #FFFFFF; text-align: center;">
        <p>根据用户ID删除一个用户持久化对象</p>
      </td>
    </tr>
  </tbody>
</table>

 
RoomService的接口规范：
 
<table class="lake-table">
  <tbody>
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>提供的服务（供接口）</strong></p>
      </td>
    </tr>
    <tr>
      <td rowspan="3" colspan="1" style="text-align: center;">
        RoomServiceImpl.retrieveHotelRoomInfo
      </td>
      <td style="text-align: center;">
        语法
      </td>
      <td style="text-align: center;">
        public List<HotelRoom> retrieveHotelRoomInfo(Integer hotelId)
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">
        前置条件
      </td>
      <td style="text-align: center;">
        数据库中存在对应的房间信息
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">
        后置条件
      </td>
      <td style="text-align: center;">
        更新房间id对应的房间信息
      </td>
    </tr>
    <tr>
      <td rowspan="3" colspan="1" style="text-align: center;">
        RoomServiceImpl.insertRoomInfo
      </td>
      <td colspan="1" style="text-align: center;">
        语法
      </td>
      <td colspan="1" style="text-align: center;">
        public void insertRoomInfo(HotelRoom hotelRoom);
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        前置条件
      </td>
      <td colspan="1" style="text-align: center;">
        数据库中存在相应的房间数据
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        后置条件
      </td>
      <td colspan="1" style="text-align: center;">
        插入房间信息
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        RoomServiceImpl.updateRoomInfo
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        public ResponseVO updateRoomInfo(Integer id,Double price,Integer total,Integer curNum)
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在对应的房间id</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>更新房间id对应的房间信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>RoomServiceImpl.getRoomCurNum</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p> public int getRoomCurNum(Integer hotelId, String roomType)</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库存在相应的房间数据</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>获取当前的房间Num</p>
      </td>
    </tr> 
     <tr>
          <td colspan="1" rowspan="3" style="text-align: center;">
            RoomServiceImpl.moveRoom
          </td>
          <td colspan="1" style="text-align: center;">
            <p>语法</p>
          </td>
          <td colspan="1" style="text-align: center;">
            public RoomVO moveRoom(Integer roomId)
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            <p>前置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>数据库中存在对应的房间id</p>
          </td>
     </tr>
    <tr>
          <td colspan="1" style="text-align: center;">
            <p>后置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>删除房间id对应的详细信息</p>
          </td>
        </tr>
        <tr>
          <td colspan="1" rowspan="3" style="text-align: center;">
            <p>RoomServiceImpl.getRoomInfo</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>语法</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>public HotelRoom getRoomInfo(Integer roomId);</p>
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            <p>前置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>数据库中存在对应房间id的详细信息</p>
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            <p>后置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>以列表形式返回房间id的详细信息</p>
          </td>
        </tr> 
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>需要的接口（需接口）</strong></p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>vo.ResponseVO</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>检查调用是否成功</p>
      </td>
    </tr>
    <tr>
       <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
          <p>vo.userForm</p>
       </td>
       <td rowspan="1" colspan="2" style="text-align: center;">
          <p>用户信息表单类</p>
       </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>po.User</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>用户实体类</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>RoomMapper.retrieveHotelRoomInfo(Integer hotelId)</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>获取房间信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>RoomMapper.updateRoomInfo(Integer id,Double price,Integer total,Integer curNum)</p>
      </td>
      <td colspan="2" style="text-align: center; background-color: #FFFFFF;">
        <p>以列表形式获取所有身份类型为Room的用户单一持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p> RoomMapper.insertRoomInfo(HotelRoom hotelRoom)</p>
      </td>
      <td colspan="2" style="background-color: #FFFFFF; text-align: center;">
        <p>插入一个用户持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p> RoomMapper.moveRoom(Integer roomId)</p>
      </td>
      <td colspan="2" style="background-color: #FFFFFF; text-align: center;">
        <p>根据用户ID删除一个用户持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>RoomMapper.getRoomInfo(Integer roomId)</p>
      </td>
      <td colspan="2" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
         返回房间的详细信息
      </td>
    </tr>
  </tbody>
</table>
 

Orderbl模块的接口模范如下表所示。
 
<table border="3">
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>提供的服务（供接口）</strong></p>
      </td>
    </tr>
    <tr>
        <th> </th>
        <th> </th>
        <th> </th>
    </tr>
    <tr>
        <td rowspan="3"> OrderServiceImpl.addOrder </td>
        <td> 语法</td>
        <td> public ResponseVO addOrder(OrderVO orderVO);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此ordervo信息不存在</td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 在数据库中增加一个订单记录</td>
    </tr>
    <tr>
        <td rowspan="3"> OrderServiceImpl.getAllOrders </td>
        <td> 语法</td>
        <td>  public List&lt;Order&gt; getAllOrders();</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 无</td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 列表形式返回所有订单信息</td>
    </tr>    
    <tr>
        <td rowspan="3"> OrderServiceImpl.getUserOrders </td>
        <td> 语法</td>
        <td> public List&lt;Order&gt; getUserOrders(int userid);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 指定用户userid存在 </td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 列表形式返回该user的所有订单信息</td>
    </tr>
    <tr>
        <td rowspan="3"> OrderServiceImpl.annulOrder </td>
        <td> 语法</td>
        <td> public ResponseVO annulOrder(int orderid);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此orderid存在 </td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 删除此orderid的订单信息</td>
    </tr>    
    <tr>
        <td rowspan="3"> OrderService.processOrder </td>
        <td> 语法</td>
        <td> public ResponseVO processOrder(int orderid);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此orderid存在 </td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 修改订单状态为已执行</td>
    </tr>
    <tr>
        <td rowspan="3"> OrderServiceImpl.retrieveOrder </td>
        <td> 语法</td>
        <td> public Order retrieveOrder(Integer orderId);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此orderId在数据库中存在 </td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 以Order形式获取该特定订单的全部信息</td>
    </tr>  
        <tr>
        <td rowspan="3"> OrderServiceImpl.retrieveHotelOrders </td>
        <td> 语法</td>
        <td> public List&lt;Order&gt; retrieveHotelOrders(Integer hotelId);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此hotelId在数据库中存在 </td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 以列表形式返回该酒店的全部订单信息</td>
    </tr> 
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>需要的接口（需接口）</strong></p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>vo.ResponseVO</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>检查调用是否成功</p>
      </td>
    </tr>
    <tr>
       <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
          <p>vo.orderVO</p>
       </td>
       <td rowspan="1" colspan="2" style="text-align: center;">
          <p>订单表单类</p>
       </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>po.User</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>用户实体类</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>orderMapper.addOrder(Order order)</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>新增一个用订单持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>hotelService.updateRoomNum(Integer hotelId, String roomType,Integer rooms)</p>
      </td>
      <td colspan="2" style="text-align: center; background-color: #FFFFFF;">
        <p>添加订单后更新酒店房间数量</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p> orderMapper.getAllOrders()</p>
      </td>
      <td colspan="2" style="background-color: #FFFFFF; text-align: center;">
        <p>返回所有订单</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>orderMapper.getUserOrders(int userid)</p>
      </td>
      <td colspan="2" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
         返回userid对应用户的所有订单
      </td>
    </tr> 
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>orderMapper.annulOrder(int orderid)</p>
      </td>
      <td colspan="2" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
         删除orderid对应的订单信息
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>orderMapper.processOrder(int orderid)</p>
      </td>
      <td colspan="2" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
         修改orderid对应的订单状态
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>orderMapper.getOrderById(Integer orderId)</p>
      </td>
      <td colspan="2" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
         返回orderId对应的订单信息
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>orderMapper.getHotelOrders(Integer hotelId)</p>
      </td>
      <td colspan="2" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
         返回hotelId对应的酒店的所有订单信息
      </td>
    </tr>                     
</table>
 
 
userbl模块的接口模范如下表所示。
 
AccountService的接口规范：

<table class="lake-table">
  <tbody>
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>提供的服务（供接口）</strong></p>
      </td>
    </tr>
    <tr>
      <td rowspan="3" colspan="1" style="text-align: center;">
        AccountServiceImpl.registerAccount
      </td>
      <td style="text-align: center;">
        语法
      </td>
      <td style="text-align: center;">
         public ResponseVO registerAccount(UserVO userVO);
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">
        前置条件
      </td>
      <td style="text-align: center;">
        已创建一个UserVO对象，并且输入符合输入规则
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">
        后置条件
      </td>
      <td style="text-align: center;">
        注册一个新的用户对象。
      </td>
    </tr>
    <tr>
      <td rowspan="3" colspan="1" style="text-align: center;">
        AccountServiceImpl.login
      </td>
      <td colspan="1" style="text-align: center;">
        语法
      </td>
      <td colspan="1" style="text-align: center;">
        public User login(UserForm userForm);
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        前置条件
      </td>
      <td colspan="1" style="text-align: center;">
        存在相应的用户信息
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        后置条件
      </td>
      <td colspan="1" style="text-align: center;">
        以该用户的身份登录系统
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        AccountServiceImpl.getUserInfo
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        public User getUserInfo(int id);
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在对应的用户ID</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>返回用户ID对应的用户信息</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="3" style="text-align: center;">
        <p>AccountServiceImpl.updateUserInfo</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>语法</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p> public ResponseVO updateUserInfo(int id, String password, String username, String phonenumber) ;</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>前置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>数据库中存在对应的用户ID</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        <p>后置条件</p>
      </td>
      <td colspan="1" style="text-align: center;">
        <p>修改用户ID对应的用户信息中的密码、用户名、电话号码为相应信息</p>
      </td>
    </tr> 
    <tr>
          <td colspan="1" rowspan="3" style="text-align: center;">
            <p>AccountServiceImpl.updateUserVip</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>语法</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p> public ResponseVO updateUserVip(int id, int vip, Date birthday);</p>
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            <p>前置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>数据库中存在对应的用户ID,输入的日期符合输入规则</p>
          </td>
        </tr>
        <tr>
          <td colspan="1" style="text-align: center;">
            <p>后置条件</p>
          </td>
          <td colspan="1" style="text-align: center;">
            <p>修改用户ID对应的用户信息中的会员信息</p>
          </td>
        </tr>
        <tr>
                  <td colspan="1" rowspan="3" style="text-align: center;">
                    <p>AccountServiceImpl.updateUserVip</p>
                  </td>
                  <td colspan="1" style="text-align: center;">
                    <p>语法</p>
                  </td>
                  <td colspan="1" style="text-align: center;">
                    <p> public ResponseVO updateUserVip(int id, int vip, Date birthday);</p>
                  </td>
                </tr>
                <tr>
                  <td colspan="1" style="text-align: center;">
                    <p>前置条件</p>
                  </td>
                  <td colspan="1" style="text-align: center;">
                    <p>数据库中存在对应的用户ID,输入的日期符合输入规则</p>
                  </td>
                </tr>
                <tr>
                  <td colspan="1" style="text-align: center;">
                    <p>后置条件</p>
                  </td>
                  <td colspan="1" style="text-align: center;">
                    <p>修改用户ID对应的用户信息中的会员信息</p>
                  </td>
                </tr> 
        <tr>
                  <td colspan="1" rowspan="3" style="text-align: center;">
                    <p>AccountServiceImpl.getAllClients</p>
                  </td>
                  <td colspan="1" style="text-align: center;">
                    <p>语法</p>
                  </td>
                  <td colspan="1" style="text-align: center;">
                    <p> public List&lt;User&gt; getAllClients();</p>
                  </td>
                </tr>
                <tr>
                  <td colspan="1" style="text-align: center;">
                    <p>前置条件</p>
                  </td>
                  <td colspan="1" style="text-align: center;">
                    <p>无</p>
                  </td>
                </tr>
                <tr>
                  <td colspan="1" style="text-align: center;">
                    <p>后置条件</p>
                  </td>
                  <td colspan="1" style="text-align: center;">
                    <p>列表形式返回所有用户类型为客户的用户信息</p>
                  </td>
                </tr>  
    <tr>
                      <td colspan="1" rowspan="3" style="text-align: center;">
                        <p>AccountServiceImpl.getAllClients</p>
                      </td>
                      <td colspan="1" style="text-align: center;">
                        <p>语法</p>
                      </td>
                      <td colspan="1" style="text-align: center;">
                        <p> public List&lt;User&gt; getAllClients();</p>
                      </td>
                    </tr>
                    <tr>
                      <td colspan="1" style="text-align: center;">
                        <p>前置条件</p>
                      </td>
                      <td colspan="1" style="text-align: center;">
                        <p>无</p>
                      </td>
                    </tr>
                    <tr>
                      <td colspan="1" style="text-align: center;">
                        <p>后置条件</p>
                      </td>
                      <td colspan="1" style="text-align: center;">
                        <p>列表形式返回所有用户类型为客户的用户信息</p>
                      </td>
                    </tr>  
                    <tr>
                                      <td colspan="1" rowspan="3" style="text-align: center;">
                                        <p>AccountServiceImpl.getAllClients</p>
                                      </td>
                                      <td colspan="1" style="text-align: center;">
                                        <p>语法</p>
                                      </td>
                                      <td colspan="1" style="text-align: center;">
                                        <p> public List&lt;User&gt; getAllClients();</p>
                                      </td>
                                    </tr>
                                    <tr>
                                      <td colspan="1" style="text-align: center;">
                                        <p>前置条件</p>
                                      </td>
                                      <td colspan="1" style="text-align: center;">
                                        <p>无</p>
                                      </td>
                                    </tr>
                                    <tr>
                                      <td colspan="1" style="text-align: center;">
                                        <p>后置条件</p>
                                      </td>
                                      <td colspan="1" style="text-align: center;">
                                        <p>列表形式返回所有用户类型为客户的用户信息</p>
                                      </td>
                                    </tr>  
                    <tr>
                                      <td colspan="1" rowspan="3" style="text-align: center;">
                                        <p>AccountServiceImpl.addCredit</p>
                                      </td>
                                      <td colspan="1" style="text-align: center;">
                                        <p>语法</p>
                                      </td>
                                      <td colspan="1" style="text-align: center;">
                                        <p> public ResponseVO addCredit(Integer userId,Integer creditAdded);</p>
                                      </td>
                                    </tr>
                                    <tr>
                                      <td colspan="1" style="text-align: center;">
                                        <p>前置条件</p>
                                      </td>
                                      <td colspan="1" style="text-align: center;">
                                        <p>存在相应的用户ID</p>
                                      </td>
                                    </tr>
                                    <tr>
                                      <td colspan="1" style="text-align: center;">
                                        <p>后置条件</p>
                                      </td>
                                      <td colspan="1" style="text-align: center;">
                                        <p>为用户ID对应的用户增加相应的信用值</p>
                                      </td>
                                    </tr> 
              <tr>
                    <td colspan="1" rowspan="3" style="text-align: center;">
                        <p>AccountServiceImpl.addCredit</p>
                    </td>
                    <td colspan="1" style="text-align: center;">
                       <p>语法</p>
                    </td>
                    <td colspan="1" style="text-align: center;">
                       <p> public ResponseVO addCredit(Integer userId,Integer creditAdded);</p>
                    </td>
              </tr>
              <tr>
                  <td colspan="1" style="text-align: center;">
                      <p>前置条件</p>
                  </td>
                  <td colspan="1" style="text-align: center;">
                      <p>存在相应的用户ID</p>
                  </td>
              </tr>
               <tr>
               <td colspan="1" style="text-align: center;">
                    <p>后置条件</p>
               </td>
               <td colspan="1" style="text-align: center;">
                   <p>为用户ID对应的用户增加相应的信用值</p>
               </td>
               </tr> 
               <tr>
                                   <td colspan="1" rowspan="3" style="text-align: center;">
                                       <p>AccountServiceImpl.moveMember</p>
                                   </td>
                                   <td colspan="1" style="text-align: center;">
                                      <p>语法</p>
                                   </td>
                                   <td colspan="1" style="text-align: center;">
                                      <p> public ResponseVO moveMember(Integer userId);</p>
                                   </td>
                             </tr>
                             <tr>
                                 <td colspan="1" style="text-align: center;">
                                     <p>前置条件</p>
                                 </td>
                                 <td colspan="1" style="text-align: center;">
                                     <p>存在相应的用户ID</p>
                                 </td>
                             </tr>
                              <tr>
                              <td colspan="1" style="text-align: center;">
                                   <p>后置条件</p>
                              </td>
                              <td colspan="1" style="text-align: center;">
                                  <p>注销用户ID对应用户的会员信息</p>
                              </td>
                              </tr>     
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>需要的接口（需接口）</strong></p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>vo.ResponseVO</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>检查调用是否成功</p>
      </td>
    </tr>
    <tr>
       <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
          <p>vo.userForm</p>
       </td>
       <td rowspan="1" colspan="2" style="text-align: center;">
          <p>用户信息表单类</p>
       </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>po.User</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>用户实体类</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>AccountMapper.createNewAccount(User user)</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>新增一个用户持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>AccountMapper.getAccountByName(String email)</p>
      </td>
      <td colspan="2" style="text-align: center; background-color: #FFFFFF;">
        <p>根据用户邮箱返回一个用户持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p> AccountMapper.getAccountById(int id)</p>
      </td>
      <td colspan="2" style="background-color: #FFFFFF; text-align: center;">
        <p>根据用户ID返回一个用户持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>AccountMapper.updateAccount(int id, String password,String username,String phonenumber);
</p>
      </td>
      <td colspan="2" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
         修改ID对应的用户密码、用户名、电话号码为参数中的相应值
      </td>
    </tr>
    <tr>
          <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
            <p>AccountMapper.updateVip(int id, int vip, Date birthday);</p>
          </td>
          <td colspan="2" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
             注册会员，并修改用户会员信息
          </td>
    </tr>
    <tr>
          <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
              <p>AccountMapper.getAllClients();</p>
          </td>
          <td colspan="2" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
              获取所有客户信息
           </td>
    </tr>
    <tr>
              <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
                  <p>AccountMapper.addCredit(Integer userId, Integer creditAdded);</p>
              </td>
              <td colspan="2" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
                  为指定用户增加指定信用值
               </td>
    </tr>
    <tr>
           <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
                 <p>AccountMapper.moveMember(Integer userId);</p>
           </td>
           <td colspan="2" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
                 为指定用户注销会员身份
           </td>
    </tr>
  </tbody>
</table>

EvaluationService接口规范如下：

<table class="lake-table">
  <tbody>
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>提供的服务（供接口）</strong></p>
      </td>
    </tr>
    <tr>
      <td rowspan="3" colspan="1" style="text-align: center;">
        EvaluationServiceImpl.retrieveHotelEvaluations
      </td>
      <td style="text-align: center;">
        语法
      </td>
      <td style="text-align: center;">
         public List &lt;Evaluation&gt; retrieveHotelEvaluations(Integer hotelId);
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">
        前置条件
      </td>
      <td style="text-align: center;">
        存在相应的酒店ID
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">
        后置条件
      </td>
      <td style="text-align: center;">
        返回酒店ID对应的所有评价信息
      </td>
    </tr>
    <tr>
      <td rowspan="3" colspan="1" style="text-align: center;">
        EvaluationServiceImpl.insertEvaluationInfo
      </td>
      <td colspan="1" style="text-align: center;">
        语法
      </td>
      <td colspan="1" style="text-align: center;">
        public void insertEvaluationInfo(Evaluation evaluation);
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        前置条件
      </td>
      <td colspan="1" style="text-align: center;">
        输入一个评价对象信息，并且输入符合输入规则
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center;">
        后置条件
      </td>
      <td colspan="1" style="text-align: center;">
        添加一条评价信息
      </td>
    </tr>
    <tr>
      <td colspan="3" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p><strong>需要的接口（需接口）</strong></p>
      </td>
    </tr>
    <tr>
      <td colspan="1" rowspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>EvaluationMapper.insertEvaluation(Evaluation evaluation)</p>
      </td>
      <td rowspan="1" colspan="2" style="text-align: center;">
        <p>新增一个评价持久化对象</p>
      </td>
    </tr>
    <tr>
      <td colspan="1" style="text-align: center; background-color: #FFFFFF;">
        <p>EvaluationMapper.selectEvaByHotelId(Integer hotelId)</p>
      </td>
      <td colspan="2" style="text-align: center; background-color: #FFFFFF;">
        <p>根据酒店ID返回其相应的评价信息</p>
      </td>
    </tr>
  </tbody>
</table> 

### 5.4 数据层分解

数据层主要给业务逻辑层提供数据访问服务，包括对于持久化数据的增删改查。酒店预订系统业务逻辑需要的服务由ReserveDataService接口提供。由于持久话数据的保存可能存在多种形式：TXT文件、序列话文件、数据库等，所示抽象了数据服务。数据层模块的描述具体如下图所示。

![]( https://image-store-se.oss-cn-shanghai.aliyuncs.com/%E6%95%B0%E6%8D%AE%E5%B1%82%E5%88%86%E8%A7%A3-1.png)

#### 5.4.1 职责

数据层模块的职责如表数据下表所示。
    
| 模块 | 职责 |
| -------------------- | :------------------------------------- |
| AdminMapper  | 持久化数据库的接口，提供集体载入、增、查服务|
| CouponMapper| 持久化数据库的接口，提供优惠策略集体载入、增、查服务|
| HotelMapper|持久化数据库的接口，提供酒店增、查，酒店信息的集体载入，酒店详细信息的查询，查酒店剩余房间和所有订单的查询服务|
| RoomMapper| 持久化数据库的接口，提供某个酒店房间集体载入、增、更新、获取服务|
| OrderMapper| 持久化数据库的接口，提供某个酒店订单的增加、获取、用户订单获取、删除服务|
| AccountMapper| 持久化数据库的接口，提供账户的注册、登录、获取信息、更新信息服务|
| EvaluationMapper| 持久化数据库的接口，提供评价的插入、获取服务|

#### 5.4.2 接口规范

<table border="3">
    <caption>提供的服务（供接口）</caption>
    <tr>
        <th> </th>
        <th> </th>
        <th> </th>
    </tr>
    <tr>
        <td rowspan="3"> AdminMapper.addUser </td>
        <td> 语法</td>
        <td> public int addUser(User user);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 同样的User不存在</td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 添加了酒店管理人员账号</td>
    </tr>
    <tr>
        <td rowspan="3"> AdminMapper.getAllManagers </td>
        <td> 语法</td>
        <td> public List&lt;User&gt; getAllManagers();</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 无</td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 列表形式返回所有酒店管理人员信息</td>
    </tr>
    <tr>
         <td rowspan="3"> AdminMapper.getAllMarketers </td>
         <td> 语法</td>
         <td> pubic List&lt;User&gt; getAllMarketers();</td>
    </tr>
    <tr>
         <td> 前置条件</td>
         <td> 无</td>
    </tr>
    <tr>
         <td>后置条件 </td>
         <td>列表形式返回所有网站营销人员信息</td>
    </tr> 
    <tr>
         <td rowspan="3"> AdminMapper.moveUser </td>
         <td> 语法</td>
         <td> pubic void moveUser(int userId);</td>
    </tr>
    <tr>
         <td> 前置条件</td>
         <td> 存在相应的userId</td>
    </tr>
    <tr>
         <td>后置条件 </td>
         <td> 删除userId对应的用户信息</td>
    </tr>   
    <tr>
         <td rowspan="3"> AdminMapper.changeHotelManager </td>
         <td> 语法</td>
         <td> pubic void changeHotelManager(int hotelId,Integer managerId);</td>
    </tr>
    <tr>
         <td> 前置条件</td>
         <td> 存在相应的hotelId和userId</td>
    </tr>
    <tr>
         <td>后置条件 </td>
         <td>指定managerId为hotelId对应酒店的管理员ID </td>
    </tr>   
    <tr>
        <td rowspan="3"> CouponMapper.insertCoupon </td>
        <td> 语法</td>
        <td> public int insertCoupon(Coupon coupon);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 无 </td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 添加了优惠政策</td>
    </tr>
    <tr>
        <td rowspan="3"> CouponMapper.selectByHotelId </td>
        <td> 语法</td>
        <td> public List&lt;Coupon&gt; selectByHotelId(Integer hotelId);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> hotelId对应的酒店存在 </td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 以List形式返回酒店的优惠政策</td>
    </tr> 
    <tr>
        <td rowspan="3"> CouponMapper.selectAllWebsiteCoupons </td>
        <td> 语法</td>
        <td> public List&lt;Coupon&gt; selectAllWebsiteCoupons();</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 无 </td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 以List形式返回网站的优惠政策</td>
    </tr> 
      <tr>
        <td rowspan="3"> CouponMapper.moveCoupon </td>
        <td> 语法</td>
        <td> public void moveCoupon(Integer couponId);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 存在相应的couponId </td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 删除couponId对应的优惠策略信息</td>
    </tr>
    <tr>
        <td rowspan="3"> CouponMapper.selectCouponById </td>
        <td> 语法</td>
        <td> public Coupon selectCouponById(int id);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 存在相应的couponId </td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 返回couponId对应的优惠策略信息</td>
    </tr>      
    <tr>
        <td rowspan="3"> HotelMapper.insertHotel </td>
        <td> 语法</td>
        <td> public int insertHotel(Hotel hotel);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此hotel在数据库中不存在 </td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 在数据库中增加一个po记录</td>
    </tr>
    <tr>
        <td rowspan="3"> HotelMapper.selectAllHotel </td>
        <td> 语法</td>
        <td> public  List&lt;HotelVO&gt; selectAllHotel();</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 无 </td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 以list形式展示所有酒店的客房信息</td>
    </tr>    
    <tr>
        <td rowspan="3"> HotelMapper.moveHotel</td>
        <td> 语法</td>
        <td> public void moveHotel(Integer hotelId);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 存在相应的hotelId</td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td> 删除hotelId对应的酒店信息</td>
    </tr>   
    <tr>
        <td rowspan="3"> HotelMapper.selectById</td>
        <td> 语法</td>
        <td> public HotelVO selectById(Integer id);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此酒店的id存在</td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td>以HotelVO获得某家酒店的详细信息</td>
    </tr>  
    <tr>
        <td rowspan="3"> HotelMapper.selectByManagerId</td>
        <td> 语法</td>
        <td> public HotelVO selectByManagerId(int userid);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 相应的userId存在</td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td>返回管理员为userid的酒店信息</td>
    </tr>
    <tr>
        <td rowspan="3"> HotelMapper.updateHotel</td>
        <td> 语法</td>
        <td> public void updateHotel(int managerid, String bizRegion, String adddress, String hotelDescription,String phoneNumber);</td>
    </tr>
    <tr>
        <td> 前置条件</td>，
        <td> 存在相应的userId且为酒店管理员身份</td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td>修改该管理员所管理的酒店信息</td>
    </tr> 
    <tr>
        <td rowspan="3"> HotelMapper.selectHotelByBizAndCity</td>
        <td> 语法</td>
        <td> public List&lt;HotelVO&gt; selectHotelByBizAndCity(String bizRegion,String city);</td>
    </tr>
    <tr>
        <td> 前置条件</td>，
        <td> 无</td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td>列表形式返回选择城市和商圈内的所有酒店信息</td>
    </tr> 
    <tr>
        <td rowspan="3"> HotelMapper.selectAllCities</td>
        <td> 语法</td>
        <td> public List&lt;String&gt; selectAllCities()</td>
    </tr>
    <tr>
        <td> 前置条件</td>，
        <td> 无</td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td>列表形式返回酒店列表中城市属性的所有值</td>
    </tr>
    <tr>
        <td rowspan="3"> HotelMapper.selectAllBizRegions</td>
        <td> 语法</td>
        <td> public List&lt;String&gt; selectAllBizRegions()</td>
    </tr>
    <tr>
        <td> 前置条件</td>，
        <td> 无</td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td>列表形式返回酒店列表中商圈属性的所有值</td>
    </tr> 
    <tr>
        <td rowspan="3"> HotelMapper.selectOrdered</td>
        <td> 语法</td>
        <td> public List&lt;String&gt; selectOrdered(Integer userId);</td>
    </tr>
    <tr>
        <td> 前置条件</td>，
        <td> 存在相应的userId</td>
    </tr>
    <tr>
        <td>后置条件 </td>
        <td>列表形式返回userId对应用户预订过的酒店</td>
    </tr>                   
    <tr>
        <td rowspan="3"> RoomMapper.updateRoomInfo </td>
        <td> 语法</td>
        <td> public int updateRoomInfo(Integer id,Double price, Integer total, Integer curNum);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 相应的roomId存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 更新roomId对应的房间信息</td>
    </tr>
    <tr>
        <td rowspan="3"> RoomMapper.insertRoom </td>
        <td> 语法</td>
        <td> public int insertRoom(HotelRoom hotelRoom);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此酒店的hotelRoom号存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 增加此酒店的客房信息</td>
    </tr>
    <tr>
        <td rowspan="3"> RoomMapper.selectRoomsByHotelId </td>
        <td> 语法</td>
        <td> public List&lt;HotelRoom&gt; selectRoomsByHotelId(Integer hotelId);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此酒店的hotelId号存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 以List的形式展示HotelRoom</td>
    </tr>           
    <tr>
        <td rowspan="3"> RoomMapper.getRoomCurNum </td>
        <td> 语法</td>
        <td> public int getRoomCurNum(Integer hotelId, String roomType);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此hotelId和roomType存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 以int方式获取酒店指定房间剩余数量</td>
    </tr>
    <tr>
        <td rowspan="3"> RoomMapper.moveRoom </td>
        <td> 语法</td>
        <td> public void moveRoom(Integer roomId);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 相应的roomId存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 删除roomId对应的房间信息</td>
    </tr>
    <tr>
        <td rowspan="3"> RoomMapper.getRoomInfo </td>
        <td> 语法</td>
        <td> public HotelRoom getRoomInfo(Integer roomId);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 相应的roomId存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 以HotelRoom对象返回roomId对应的房间信息</td>
    </tr>
    <tr>
        <td rowspan="3"> RoomMapper.updateRoomNum </td>
        <td> 语法</td>
        <td> public void updateRoomNum(Integer hotelId, String roomType, Integer rooms);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 相应的hotelId和roomType存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 更新hotelId对应的酒店类型为roomType的房间数量</td>
    </tr>
    <tr>
        <td rowspan="3"> OrderMapper.addOrder</td>
        <td> 语法</td>
        <td> public int addOrder(Order order);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> order号对应的订单存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 更新酒店的订单</td>
    </tr>
    <tr>
        <td rowspan="3"> OrderMapper.getAllOrders </td>
        <td> 语法</td>
        <td> public List&lt;Order&gt; getAllOrders();</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 无 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 以List方式获取所有订单信息量</td>
    </tr>
    <tr>
        <td rowspan="3"> OrderMapper.getUserOrders </td>
        <td> 语法</td>
        <td> public List&lt;Order&gt; getUserOrders(int userid);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此userid存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 以List方式获取该用户的所有订单信息</td>
    </tr>
    <tr>
        <td rowspan="3"> OrderMapper.annulOrder </td>
        <td> 语法</td>
        <td> public int annulOrder(int orderid);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此orderid存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 将数据库中的对应订单删除</td>
    </tr>
    <tr>
        <td rowspan="3"> OrderMapper.getOrderById </td>
        <td> 语法</td>
        <td> public Order getOrderById(int orderid);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此orderid存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 以Order形式返回所查询的订单</td>
    </tr> 
    <tr>
        <td rowspan="3"> OrderMapper.processOrder </td>
        <td> 语法</td>
        <td> public void processOrder (int orderId);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此orderId存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 修改orderId对应订单的状态</td>
    </tr> 
    <tr>
        <td rowspan="3"> OrderMapper.getHotelOrders </td>
        <td> 语法</td>
        <td> public List&lt;Order&gt; getHotelOrders(Integer hotelId);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此hotelId存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 列表形式返回该hotelId所有的订单信息/td>
    </tr>       
    <tr>
        <td rowspan="3"> AccountMapper.createNewAccount </td>
        <td> 语法</td>
        <td> public int createNewAccount(User user);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此user不存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 新注册的账户信息存入数据库</td>
    </tr>
    <tr>
        <td rowspan="3"> AccountMapper.getAccountByName </td>
        <td> 语法</td>
        <td> public User getAccountByName(String email);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此代指email的string存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 以User形式返回用户信息</td>
    </tr>
    <tr>
        <td rowspan="3"> AccountMapper.getAccountById </td>
        <td> 语法</td>
        <td> public User getAccountById( int id);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此代指id的int存在 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 以User形式返回用户信息</td>
    </tr>    
    <tr>
        <td rowspan="3"> AccountMapper.updateAccount </td>
        <td> 语法</td>
        <td> public int updateAccount(int id, String password, String username, String phonenumber);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此用户的Id存在,其余信息满足字段要求 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 更新数据库中此用户的信息</td>
    </tr> 
    <tr>
        <td rowspan="3"> AccountMapper.updateVip </td>
        <td> 语法</td>
        <td> public int updateVip(int id, int vip, Date birthday);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此用户的Id存在,其余信息满足字段要求 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 修改用户的会员状态并录入会员信息</td>
    </tr>
    <tr>
        <td rowspan="3"> AccountMapper.getAllClients </td>
        <td> 语法</td>
        <td> public List&lt;User&gt; getAllClients()</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 无 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 列表形式返回所有客户信息</td>
    </tr>
    <tr>
        <td rowspan="3"> AccountMapper.addCredit </td>
        <td> 语法</td>
        <td> public void addCredit(Integer userId, Integer creditAdded);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 此用户的Id存在,其余信息满足字段要求 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 为userId对应的用户增加相应的信用值</td>
    </tr>
    <tr>
        <td rowspan="3"> AccountMapper.moveMember </td>
        <td> 语法</td>
        <td> public void moveMember(Integer userId);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 存在相应的userId </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 注销userId对应的用户的会员信息</td>
    </tr> 
    <tr>
        <td rowspan="3"> EvaluationMapper.insertEvaluation </td>
        <td> 语法</td>
        <td> public void insertEvaluation(Evaluation evaluation);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 输入的Evaluation信息符合要求 </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 将Evaluation对象插入数据库</td>
    </tr>
    <tr>
        <td rowspan="3"> EvaluationMapper.selectByHotelId </td>
        <td> 语法</td>
        <td> public List&lt;Evaluation&gt; selectEvaByHotelId(Integer hotelId);</td>
    </tr>
    <tr>
        <td> 前置条件</td>
        <td> 存在相应的hotelId </td>
    </tr>
    <tr>
        <td> 后置条件 </td>
        <td> 列表形式返回hotelId对应的所有评价信息</td>
    </tr>                                              
</table>


 
### 5.5 信息视角

#### 5.5.1 数据持久化对象(PO)
在此对实体类做简单的介绍。

- Coupon(PO)类包含优惠券的ID、描述、推出优惠的对象（网站或酒店）、类型、名称、使用门槛、折扣、优惠金额、可用时间、失效时间、状态属性。

Coupon的定义如下图所示。
![Coupon1]( https://image-store-se.oss-cn-shanghai.aliyuncs.com/Coupon1.png)
![Coupon2]( https://image-store-se.oss-cn-shanghai.aliyuncs.com/Coupon2.png)

- Hotel(PO)类包含酒店的ID、名称、地址、商圈、星级、评分、描述、电话号码、酒店管理员ID属性。

Hotel的定义如下图所示。
![Hotel1](https://image-store-se.oss-cn-shanghai.aliyuncs.com/hotel1.png)
![Hotel2](https://image-store-se.oss-cn-shanghai.aliyuncs.com/hotel2.png)

- HotelRoom(PO)类包含酒店房间的ID、房间类型、酒店ID、价格、当前剩余可预订房间数量、某类型房间总数属性。

HotelRoom的定义如下图所示。
![HotelRoom](https://image-store-se.oss-cn-shanghai.aliyuncs.com/hotelroom.png)

- Order(PO)类包含订单的ID、用户ID、酒店ID、酒店名称、入住时间、退房时间、房间类型、房间数量、入住人数、有无儿童、订单创建日期、价格、客户名称、客户电话号码、订单状态属性。

Order的定义如下图所示。
![Order1](https://image-store-se.oss-cn-shanghai.aliyuncs.com/order1.png)
![Order2](https://image-store-se.oss-cn-shanghai.aliyuncs.com/order2.png)

- User(PO)类包含用户的ID、邮箱、密码、用户名称、电话号码、信用值、用户类型属性。

User的定义如下图所示。
![User](https://image-store-se.oss-cn-shanghai.aliyuncs.com/user.png)

- Evaluation(PO)类包含评价的ID、用户ID、酒店ID、房间类型、评分、评价内容。

Evaluation的定义如下图所示。
![Evaluation]( https://image-store-se.oss-cn-shanghai.aliyuncs.com/Evaluation.png)

#### 5.5.2 数据库表
数据库中包含Coupon表、Hotel表、OrderList表、Room表、User表、Evaluation表，表的定义如下。

Coupon表

|属性|类型|
|:---:|:---:|
|id | int(11) NOT NULL AUTO_INCREMENT|
|description| varchar(255) DEFAULT NULL|
|hotelId | int(11) DEFAULT '-1'|
|couponType|  int(11) NOT NULL|
|couponName| varchar(255) NOT NULL|
|target_money|int(11) DEFAULT NULL|
|discount|double DEFAULT NULL|
|status|int(11) DEFAULT NULL|
|start_time|datetime DEFAULT NULL|
|end_time|datetime DEFAULT NULL|
|discount_money| int(11) DEFAULT NULL|

Hotel表

|属性|类型|
|:---:|:---:|
|id|int(11) NOT NULL AUTO_INCREMENT|
|city|varchar(255) NOT NULL| 
|hotelName| varchar(255) NOT NULL|
|hotelDescription| varchar(255) DEFAULT NULL|
|address|varchar(255) DEFAULT NULL|
|bizRegion| varchar(255) DEFAULT NULL|
|hotelStar| varchar(255) DEFAULT NULL|
|phoneNum|int(11) DEFAULT NULL|
|rate| double DEFAULT NULL|
|manager_id|int(11) DEFAULT NULL|

OrderList表

|属性|类型|
|:---:|:---:|
|id|int(11) NOT NULL AUTO_INCREMENT|
|userId| int(11) DEFAULT NULL|
|hotelId| int(11) DEFAULT NULL|
|hotelName| varchar(255) DEFAULT NULL|
|checkInDate|varchar(255) DEFAULT NULL|
|checkOutDate|varchar(255) DEFAULT NULL|
|roomType| varchar(255) DEFAULT NULL|
|roomNum|int(255) DEFAULT NULL|
|peopleNum|int(255) DEFAULT NULL|
|haveChild| tinytext|
|createDate| varchar(255) DEFAULT NULL|
|price| decimal(65,0) DEFAULT NULL|
|clientName|varchar(255) DEFAULT NULL|
|phoneNumber|varchar(255) DEFAULT NULL|
|orderState| varchar(255) DEFAULT NULL|

Room表

|属性|类型|
|:---:|:---:|
|id|int(11) NOT NULL AUTO_INCREMENT|
|price|double DEFAULT NULL|
|curNum|int(11) DEFAULT NULL|
|total|int(11) DEFAULT NULL|
|hotel_id| int(11) DEFAULT NULL|
|roomType| varchar(50) DEFAULT NULL|

User表

|属性|类型|
|:---:|:---:|
|id| int(11) NOT NULL AUTO_INCREMENT|
|email| varchar(255) DEFAULT NULL|
|password|varchar(11) NOT NULL|
|username| varchar(255) DEFAULT NULL|
|phonenumber|varchar(255) DEFAULT NULL|
|credit|double(255,0) DEFAULT NULL|
|usertype|varchar(255) DEFAULT NULL|
|vip|int(255) DEFAULT 0|
|birthday|varchar(255) DEFAULT NULL|
|managehotelid|int(11) DEFAULT NULL|


Evaluation表

|属性|类型|
|:---:|:---:|
|id| int(11) NOT NULL AUTO_INCREMENT|
|content|varchar(200) DEFAULT NULL|
|rate|double DEFAULT NULL|
|user_id| int(11) DEFAULT NULL|
|hotel_id| int(11) DEFAULT NULL|
|roomType|varchar(50) DEFAULT NULL|